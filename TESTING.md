# YouTube 音樂播放器 - 測試指南

本文件提供完整的測試流程，用於驗證 YouTube 音樂播放器的所有功能。

## 測試前準備

### 1. 環境設置
- [ ] 已安裝 Qt 6.x 或更高版本
- [ ] 已安裝 Qt WebEngine 模組
- [ ] 已配置有效的 YouTube API Key
- [ ] 網路連線正常

### 2. 編譯專案
```bash
qmake6 last-report.pro
make
```
確認編譯無錯誤。

### 3. 首次執行
```bash
./last-report
```
確認應用程式可以正常啟動。

## 功能測試清單

### 基本 UI 測試

#### 1. 啟動畫面測試
- [ ] 應用程式正常啟動
- [ ] 視窗標題顯示「YouTube 音樂播放器」
- [ ] 深色主題正確載入（黑色背景，白色文字）
- [ ] 左側面板顯示播放清單選擇器
- [ ] 中央面板顯示「選擇一首歌曲開始播放」
- [ ] 頂部搜尋欄正常顯示

#### 2. UI 元件測試
- [ ] Logo 顯示「🎵 YouTube Player」（綠色）
- [ ] 搜尋框可以輸入文字
- [ ] 所有按鈕可見且正確對齊
- [ ] 播放控制按鈕正確顯示圖示
- [ ] 播放清單下拉選單可以點擊

### 搜尋功能測試

#### 3. 基本搜尋
- [ ] 在搜尋框輸入「周杰倫」
- [ ] 點擊「🔍 搜尋」按鈕
- [ ] 等待載入（應在 2-5 秒內）
- [ ] 搜尋結果顯示在底部列表
- [ ] 至少顯示 10 個結果
- [ ] 每個結果顯示影片標題和頻道名稱

#### 4. 英文搜尋
- [ ] 搜尋「Taylor Swift」
- [ ] 結果正確顯示
- [ ] 可以看到不同的影片

#### 5. Enter 鍵搜尋
- [ ] 在搜尋框輸入「lofi」
- [ ] 按 Enter 鍵
- [ ] 搜尋正常執行

#### 6. 空白搜尋處理
- [ ] 清空搜尋框
- [ ] 點擊搜尋按鈕
- [ ] 應顯示警告訊息「請輸入搜尋關鍵字！」

#### 7. 無結果處理
- [ ] 搜尋一個很不可能有的字串（如：「zxcvbnmasdfghjkl12345」）
- [ ] 確認顯示「沒有找到結果」

### 播放功能測試

#### 8. 從搜尋結果播放
- [ ] 搜尋「music」
- [ ] 雙擊第一個搜尋結果
- [ ] YouTube 播放器載入（黑色區域變成影片）
- [ ] 影片自動開始播放
- [ ] 影片標題更新到上方
- [ ] 頻道名稱顯示在標題下方
- [ ] 播放按鈕變成「⏸」（暫停符號）

#### 9. 播放控制按鈕
- [ ] 播放/暫停按鈕可點擊
- [ ] 按鈕在播放和暫停狀態之間切換圖示
- [ ] 上一首/下一首按鈕可點擊（當播放清單有多個影片時）

### 播放清單管理測試

#### 10. 創建新播放清單
- [ ] 點擊「➕ 新增」按鈕
- [ ] 輸入播放清單名稱「測試清單 1」
- [ ] 點擊確定
- [ ] 新播放清單出現在下拉選單中
- [ ] 自動切換到新播放清單

#### 11. 添加影片到播放清單
- [ ] 確保已選擇「測試清單 1」
- [ ] 搜尋「piano music」
- [ ] 選擇第一個結果（單擊，不是雙擊）
- [ ] 點擊「➕ 加入」按鈕
- [ ] 確認提示訊息顯示「已將...加入到...」
- [ ] 檢查左側播放清單是否顯示該影片

#### 12. 添加多個影片
- [ ] 重複上述步驟添加 3-5 個不同的影片
- [ ] 確認所有影片都顯示在播放清單中
- [ ] 每個影片顯示編號、標題和頻道

#### 13. 從播放清單播放
- [ ] 雙擊播放清單中的第二個影片
- [ ] 確認該影片開始播放
- [ ] 該影片在播放清單中高亮顯示（綠色背景）
- [ ] 標題和頻道資訊更新

#### 14. 移除影片
- [ ] 在播放清單中選擇一個影片（不是正在播放的）
- [ ] 點擊「➖ 移除」按鈕
- [ ] 確認影片從播放清單中消失

#### 15. 切換播放清單
- [ ] 創建第二個播放清單「測試清單 2」
- [ ] 使用下拉選單切換回「測試清單 1」
- [ ] 確認顯示之前的影片
- [ ] 切換到「測試清單 2」
- [ ] 確認是空的播放清單

#### 16. 刪除播放清單
- [ ] 選擇「測試清單 2」（空的播放清單）
- [ ] 點擊「🗑️ 刪除」按鈕
- [ ] 確認刪除提示
- [ ] 點擊「是」
- [ ] 確認播放清單已刪除
- [ ] 自動切換到其他播放清單

#### 17. 最後一個播放清單保護
- [ ] 刪除所有播放清單直到只剩一個
- [ ] 嘗試刪除最後一個播放清單
- [ ] 應顯示警告「至少需要保留一個播放清單！」

### 播放模式測試

#### 18. 隨機播放模式
- [ ] 確保播放清單有至少 5 個影片
- [ ] 點擊「🔀」按鈕啟用隨機模式
- [ ] 按鈕變成綠色
- [ ] 播放一個影片
- [ ] 點擊「⏭ 下一首」
- [ ] 確認播放的不是順序中的下一首
- [ ] 多次點擊下一首，確認隨機性
- [ ] 再次點擊「🔀」停用隨機模式
- [ ] 按鈕變回灰色

#### 19. 循環播放模式
- [ ] 播放播放清單的最後一首影片
- [ ] 啟用循環模式（🔁 按鈕）
- [ ] 按鈕變成綠色
- [ ] 點擊「⏭ 下一首」
- [ ] 確認播放清單回到第一首
- [ ] 停用循環模式
- [ ] 再次測試，確認最後一首後停止

#### 20. 隨機 + 循環模式
- [ ] 同時啟用隨機和循環模式
- [ ] 兩個按鈕都應該是綠色
- [ ] 連續點擊多次「下一首」
- [ ] 確認會持續播放，不會停止
- [ ] 確認播放的影片是隨機的

#### 21. 上一首功能
- [ ] 在播放清單中播放第三個影片
- [ ] 點擊「⏮ 上一首」
- [ ] 確認播放第二個影片
- [ ] 在第一個影片時點擊上一首
- [ ] 應該跳到最後一個影片

### 我的最愛功能測試

#### 22. 加入最愛
- [ ] 播放任一影片
- [ ] 點擊「❤️ 加入最愛」按鈕
- [ ] 確認提示訊息「已加入最愛！」
- [ ] 按鈕文字變成「💔 移除最愛」
- [ ] 切換到「我的最愛」播放清單
- [ ] 確認該影片出現在最愛清單中

#### 23. 移除最愛
- [ ] 播放一個在最愛中的影片
- [ ] 點擊「💔 移除最愛」按鈕
- [ ] 確認提示訊息「已從最愛中移除！」
- [ ] 按鈕變回「❤️ 加入最愛」
- [ ] 檢查最愛播放清單，確認影片已移除

#### 24. 從不同播放清單加入最愛
- [ ] 切換到「測試清單 1」
- [ ] 播放一個影片並加入最愛
- [ ] 切換到「我的最愛」
- [ ] 確認影片出現在最愛中
- [ ] 在最愛清單中播放該影片
- [ ] 確認可以正常播放

### 資料持久化測試

#### 25. 保存播放清單
- [ ] 創建播放清單並添加多個影片
- [ ] 關閉應用程式
- [ ] 重新啟動應用程式
- [ ] 確認播放清單仍然存在
- [ ] 確認所有影片都在
- [ ] 確認上次選擇的播放清單被記住

#### 26. 我的最愛持久化
- [ ] 加入幾個影片到最愛
- [ ] 關閉應用程式
- [ ] 重新啟動
- [ ] 確認最愛影片仍在

### 錯誤處理測試

#### 27. 無網路連線
- [ ] 斷開網路連線
- [ ] 嘗試搜尋
- [ ] 應顯示錯誤訊息
- [ ] 重新連接網路
- [ ] 確認搜尋恢復正常

#### 28. 無效 API Key
- [ ] （如果可能）暫時使用無效的 API Key
- [ ] 嘗試搜尋
- [ ] 應顯示錯誤訊息，提示 API Key 問題

#### 29. API 配額用盡
- [ ] （模擬）搜尋很多次直到配額用盡
- [ ] 應顯示配額相關的錯誤訊息

#### 30. 影片無法播放
- [ ] 嘗試播放一個已刪除或私人影片（如果找得到）
- [ ] YouTube 播放器應顯示錯誤訊息

### UI 響應測試

#### 31. 視窗大小調整
- [ ] 調整視窗大小（變大、變小）
- [ ] 確認所有元件正確縮放
- [ ] 文字不應該被截斷
- [ ] 按鈕保持可見和可點擊

#### 32. 最小化視窗
- [ ] 播放一個影片
- [ ] 最小化視窗
- [ ] 確認影片繼續播放（背景播放）
- [ ] 還原視窗
- [ ] 確認播放器狀態保持

#### 33. 長文字處理
- [ ] 搜尋並添加標題很長的影片
- [ ] 確認標題正確換行，不會溢出
- [ ] 確認播放清單項目正確顯示

### 性能測試

#### 34. 大型播放清單
- [ ] 創建一個播放清單
- [ ] 添加 20+ 個影片
- [ ] 確認滾動流暢
- [ ] 確認播放切換快速

#### 35. 連續搜尋
- [ ] 連續執行 5-10 次搜尋
- [ ] 確認每次都能正常回應
- [ ] 確認記憶體使用穩定

#### 36. 長時間運行
- [ ] 保持應用程式運行 30 分鐘以上
- [ ] 隨機使用各種功能
- [ ] 確認沒有記憶體洩漏
- [ ] 確認功能保持正常

## 測試結果記錄

### 通過的測試
記錄所有通過的測試項目編號：

### 失敗的測試
記錄失敗的測試項目和錯誤描述：

### 已知問題
記錄發現的任何問題或 bug：

## 建議的測試環境

### 作業系統
- [ ] Windows 10/11
- [ ] Ubuntu 20.04+
- [ ] macOS 10.14+

### 網路環境
- [ ] 高速網路（100Mbps+）
- [ ] 普通網路（10-50Mbps）
- [ ] 慢速網路（1-10Mbps）

### 螢幕解析度
- [ ] 1920x1080 (Full HD)
- [ ] 1366x768 (HD)
- [ ] 2560x1440 (2K)
- [ ] 3840x2160 (4K)

## 測試完成檢查表

- [ ] 所有核心功能測試通過
- [ ] 所有錯誤處理測試通過
- [ ] UI 響應測試通過
- [ ] 性能測試通過
- [ ] 至少在一個作業系統上完整測試
- [ ] 記錄所有發現的問題
- [ ] 撰寫測試報告

## 測試報告範本

```
測試日期：____/____/____
測試人員：________________
測試環境：
  - 作業系統：____________
  - Qt 版本：_____________
  - 網路速度：____________

測試結果：
  - 通過測試：____/36
  - 失敗測試：____/36
  - 跳過測試：____/36

主要發現：
1. 
2. 
3. 

建議改進：
1. 
2. 
3. 
```

---

祝測試順利！如有任何問題，請參考 USER_GUIDE.md 或聯繫開發者。
